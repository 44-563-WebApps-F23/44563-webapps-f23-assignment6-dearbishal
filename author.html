<!DOCTYPE html>
<html>
<head>
    <title>Know The Author</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
<h2>Author Entry Bishal Adhikari</h2>
<form>
    <label for="secretString">The hidden author name:</label>
    <input type="password" id="secretString" value="Dickens"/><br />
    <label for="guess">Guess the author:</label>
    <input type="text" id="guess"/> <br>
    <input type="button" id="guessButton" onclick="checkAuthor()" value="Check the guess">
</form>
<div id="results"> This text will be replaced </div>
<div id="incorrectGuesses"></div> <!-- Add the div for incorrect guesses here -->
<script>
    // Global variables
    var good = 0;
    var oops = 0;
    var buttonDisabled = false; // To track whether the button should be disabled

    function checkAuthor() {
        if (buttonDisabled) {
            // If the button is already disabled, do nothing
            return;
        }

        // Get the values from the input elements
        var secretAuthor = document.getElementById("secretString").value;
        var guessedAuthor = document.getElementById("guess").value;
        
        // Check if the guessed author matches the secret author
        if (secretAuthor === guessedAuthor) {
            good++;
            document.getElementById("results").innerHTML = "You got it right! " + "Yeah Count: " + good  + " Oops count: " + oops;
        } else {
            oops++;
            document.getElementById("results").innerHTML = "Sorry  " + " Oops count: " + oops +  " Yeah Count: " + good;

            var incorrectGuessesDiv = document.getElementById("incorrectGuesses");
            incorrectGuessesDiv.innerHTML += "Incorrect guess #" + oops + ": " + guessedAuthor + "<br>";

            if (oops >= 7) { // Change this condition to if (oops > 6)
                incorrectGuessesDiv.style.display = "block";
                document.getElementById("results").innerHTML = "Sorry, ran out of guesses.";
                document.getElementById("guessButton").disabled = true; 
                buttonDisabled = true; 
}
        }
    }
</script>
<div id="imageContainer">
    <img id="Amsterdam" src="Amsterdam.jpg" width="100" height="100" onclick="selectImage('Amsterdam')">
</div>

<script>
    var useImage = 1;
    function selectImage(imageId) {
        switch (useImage) {
            case 1:
                document.getElementById(imageId).src = "Athens.jpg";
                useImage = 2;
                break;
            case 2:
                document.getElementById(imageId).src = "Kyoto.jpg";
                useImage = 3;
                break;
            case 3:
                document.getElementById(imageId).src = "Amsterdam.jpg";
                useImage = 1;
                break;
            default:
                break;
        }
    }
</script>
</body>
</html>
